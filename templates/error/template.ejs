<!DOCTYPE HTML>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Error! <%= vars.code %> - <%= vars.title %></title>
	<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" rel="stylesheet">
	<style>
		* {
			-webkit-box-sizing: border-box;
			box-sizing: border-box;
		}

		body {
			padding: 0;
			margin: 0;
		}

		#error {
			position: relative;
			height: 100vh;
			background-color: #222;
		}

		#error .error {
			position: absolute;
			left: 50%;
			top: 50%;
			-webkit-transform: translate(-50%, -50%);
			-ms-transform: translate(-50%, -50%);
			transform: translate(-50%, -50%);
		}

		.error {
			max-width: 460px;
			width: 100%;
			text-align: center;
			line-height: 1.4;
		}

		.error > div {
			height: 158px;
			line-height: 153px;
		}

		.error  > div h1 {
			font-family: 'Josefin Sans', sans-serif;
			color: #222;
			font-size: 220px;
			letter-spacing: 10px;
			margin: 0px;
			font-weight: 700;
			text-shadow: 2px 2px 0px #c9c9c9, -2px -2px 0px #c9c9c9;
		}

		.error  > div h1 > span {
			text-shadow: 2px 2px 0px #ffab00, -2px -2px 0px #ffab00, 0px 0px 8px #ff8700;
		}

		.error p {
			font-family: 'Josefin Sans', sans-serif;
			color: #c9c9c9;
			font-size: 16px;
			font-weight: 400;
			margin-top: 0px;
			margin-bottom: 15px;
		}

		.error a {
			font-family: 'Josefin Sans', sans-serif;
			font-size: 14px;
			text-decoration: none;
			text-transform: uppercase;
			background: transparent;
			color: #c9c9c9;
			border: 2px solid #c9c9c9;
			display: inline-block;
			padding: 10px 25px;
			font-weight: 700;
			-webkit-transition: 0.2s all;
			transition: 0.2s all;
		}

		.error .tail {
			margin-top: 10vh;
		}

		.error a:hover {
			color: #ffab00;
			border-color: #ffab00;
		}

		.error .debug {
			-webkit-transition: 0.2s all;
			transition: 0.8s all ease-in-out;
			margin: 1em 1em;
			color: #222;
			font-size: 28px;
			text-shadow: 2px 1px 3px #ffab00, -1px -1px 0px #c9c9c9;
			letter-spacing: 0.1em;
			font-weight: 700;
		}

		@media only screen and (max-width: 480px) {
			.error  > div {
				height: 122px;
				line-height: 122px;
			}

			.error > div h1 {
				font-size: 122px;
			}
		}
	</style>
</head>

<body>
	<div id="error">
		<div class="error cover">
			<div class="error-<%= vars.code %>">
				<h1><%= vars.code %></h1>
			</div>
			<p><%= vars.title %> <small>Error <%= vars.code %></small></p>
			<p class="lead"><%= vars.message %></p>
			<% if (vars.redirectTo) { %>
				<a href="<%= vars.redirectTo %>">Go Home</a>
		  	<% } %>
			<p class="tail"><%- vars.footer %></p>
		</div>
	</div>
	<script>
		(function() {
			window.setTimeout(() => {
				const error = <%- JSON.stringify(vars) %>
				if (!!error.debug) {
					const errorMessageHeaderElement = document.querySelector('.error .lead')
					errorMessageHeaderElement.classList.add('debug')
					errorMessageHeaderElement.innerText = error.debug
				}
				console.log('sexpress error', error)

				const errorCodeHeaderElement = document.querySelector('.error h1')
				if (errorCodeHeaderElement) {
					const code = error.code.toString()
					const codeHtml = code[1] === '0' ? `${code[0]}<span>${code[1]}</span>${code[2]}` : `<span>${code}</span>`
					errorCodeHeaderElement.innerHTML = codeHtml
				}
			}, 500)
		})()
	</script>
</body>
</html>
